<!DOCTYPE html>
<html lang="en-US" prefix="og:http://ogp.me/ns#">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
    />
    <%= include "styles" %>
    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon" />
    <meta name="description" content="Index for your notebook" />
    <meta property="og:title" content="<%= user %>'s notebook" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />
    <meta name="robots" content="noindex, nofollow" />
    <!-- APPLE STUFF -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="<%= user %>'s notebook" />
    <link rel="apple-touch-icon" href="/static/icon_192x192.png" />
    <meta rel="apple-touch-startup-image" href="/static/icon_192x192.png" />
    <meta name="apple-moble-web-app-status-bar-style" content="black" />
    <!-- PWA Stuff -->
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="shortcut icon" href="/static/icon_192x192.png" />
    <link rel="manifest" href="/static/manifest.json" />
    <!-- OPEN SEARCH -->
    <link
      rel="search"
      type="application/opensearchdescription+xml"
      title="<%= user %>'s notebook"
      href="<%= host %>/opensearchdescription.xml"
    />
    <script>
      let CURRENT_TITLE = "<%= title %>";
    </script>

    <title><%= user %>'s notebook</title>
  </head>
  <body>
    <%= include "search" %>
    <div class="flex-container">
      <!-- prettier-ignore -->
      <%= sidebar %>
      <!-- prettier-ignore -->
      <%= content %>
      <!-- prettier-ignore -->
    </div>
    <script>
      function registerSW() {
        if (location.hostname === "localhost") return;
        if ("serviceWorker" in navigator) {
          navigator.serviceWorker
            .register("/static/sw.js", { scope: "/" })
            .catch((e) => {
              console.log("Registration fail: ", e);
            });
        }
      }

      registerSW();
    </script>
    <script src="static/editor.js" type="module"></script>
    <%= updateCheck %>
    <div id="modal"><div class="modal-body"></div></div>
  </body>
</html>
